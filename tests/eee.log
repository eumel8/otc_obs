ansible-playbook 2.5.0
  config file = /home/eumel/git/eumel8/otc_obs/tests/ansible.cfg
  configured module search path = [u'/home/eumel/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.14 (default, Sep 23 2017, 22:06:14) [GCC 7.2.0]
Using /home/eumel/git/eumel8/otc_obs/tests/ansible.cfg as config file
setting up inventory plugins
Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python2.7/dist-packages/ansible/plugins/callback/default.pyc

PLAYBOOK: test.yml ******************************************************************************************************************************
1 plays in test.yml

PLAY [localhost] ********************************************************************************************************************************
META: ran handlers

TASK [otc_obs : action create] ******************************************************************************************************************
task path: /home/eumel/git/eumel8/otc_obs/tests/roles/otc_obs/tasks/main.yml:1
included: /home/eumel/git/eumel8/otc_obs/tests/roles/otc_obs/tasks/create.yml for localhost

TASK [otc_obs : Lookup OBS credentials] *********************************************************************************************************
task path: /home/eumel/git/eumel8/otc_obs/tests/roles/otc_obs/tasks/create.yml:1
included: /home/eumel/git/eumel8/otc_obs/tests/roles/otc_obs/tasks/auth.yml for localhost

TASK [otc_obs : Load auth variable file from ansible-vault secret] ******************************************************************************
task path: /home/eumel/git/eumel8/otc_obs/tests/roles/otc_obs/tasks/auth.yml:1

TASK [otc_obs : create timestamp] ***************************************************************************************************************
task path: /home/eumel/git/eumel8/otc_obs/tests/roles/otc_obs/tasks/create.yml:4
Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/commands/command.py
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: eumel
<127.0.0.1> EXEC /bin/sh -c 'echo ~ && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/eumel/.ansible/tmp/ansible-tmp-1535271214.77-45500705422143 `" && echo ansible-tmp-1535271214.77-45500705422143="` echo /home/eumel/.ansible/tmp/ansible-tmp-1535271214.77-45500705422143 `" ) && sleep 0'
<127.0.0.1> PUT /home/eumel/.ansible/tmp/ansible-local-18078MlJSR4/tmpV36zZv TO /home/eumel/.ansible/tmp/ansible-tmp-1535271214.77-45500705422143/command.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/eumel/.ansible/tmp/ansible-tmp-1535271214.77-45500705422143/ /home/eumel/.ansible/tmp/ansible-tmp-1535271214.77-45500705422143/command.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python /home/eumel/.ansible/tmp/ansible-tmp-1535271214.77-45500705422143/command.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/eumel/.ansible/tmp/ansible-tmp-1535271214.77-45500705422143/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true, 
    "cmd": "LC_ALL=en TZ=GMT date +\"%a, %d %b %Y %T %z\"", 
    "delta": "0:00:00.002985", 
    "end": "2018-08-26 10:13:34.875916", 
    "invocation": {
        "module_args": {
            "_raw_params": "LC_ALL=en TZ=GMT date +\"%a, %d %b %Y %T %z\"", 
            "_uses_shell": true, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "warn": true
        }
    }, 
    "rc": 0, 
    "start": "2018-08-26 10:13:34.872931", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "Sun, 26 Aug 2018 08:13:34 +0000", 
    "stdout_lines": [
        "Sun, 26 Aug 2018 08:13:34 +0000"
    ]
}

TASK [otc_obs : create signature] ***************************************************************************************************************
task path: /home/eumel/git/eumel8/otc_obs/tests/roles/otc_obs/tasks/create.yml:8
Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/commands/command.py
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: eumel
<127.0.0.1> EXEC /bin/sh -c 'echo ~ && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/eumel/.ansible/tmp/ansible-tmp-1535271214.94-99945879026955 `" && echo ansible-tmp-1535271214.94-99945879026955="` echo /home/eumel/.ansible/tmp/ansible-tmp-1535271214.94-99945879026955 `" ) && sleep 0'
<127.0.0.1> PUT /home/eumel/.ansible/tmp/ansible-local-18078MlJSR4/tmp8ot6LI TO /home/eumel/.ansible/tmp/ansible-tmp-1535271214.94-99945879026955/command.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/eumel/.ansible/tmp/ansible-tmp-1535271214.94-99945879026955/ /home/eumel/.ansible/tmp/ansible-tmp-1535271214.94-99945879026955/command.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python /home/eumel/.ansible/tmp/ansible-tmp-1535271214.94-99945879026955/command.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/eumel/.ansible/tmp/ansible-tmp-1535271214.94-99945879026955/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true, 
    "cmd": "bash -c 'echo -en \"PUT\\n\\n\\n\\nx-amz-date:Sun, 26 Aug 2018 08:13:34 +0000\\n/ansibletest03\" | openssl sha1 -hmac Qjs6vZtaRh8gNndt9CstXsgHmDZyGaCfLa8u3POj -binary | base64'", 
    "delta": "0:00:00.007312", 
    "end": "2018-08-26 10:13:35.046531", 
    "invocation": {
        "module_args": {
            "_raw_params": "bash -c 'echo -en \"PUT\\n\\n\\n\\nx-amz-date:Sun, 26 Aug 2018 08:13:34 +0000\\n/ansibletest03\" | openssl sha1 -hmac Qjs6vZtaRh8gNndt9CstXsgHmDZyGaCfLa8u3POj -binary | base64'", 
            "_uses_shell": true, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "warn": true
        }
    }, 
    "rc": 0, 
    "start": "2018-08-26 10:13:35.039219", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "TlKcJ7XBkGthjzEHHNQ882iqWeA=", 
    "stdout_lines": [
        "TlKcJ7XBkGthjzEHHNQ882iqWeA="
    ]
}

TASK [otc_obs : curl request create bucket] *****************************************************************************************************
task path: /home/eumel/git/eumel8/otc_obs/tests/roles/otc_obs/tasks/create.yml:16
Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/commands/command.py
<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: eumel
<127.0.0.1> EXEC /bin/sh -c 'echo ~ && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/eumel/.ansible/tmp/ansible-tmp-1535271215.11-257716636655722 `" && echo ansible-tmp-1535271215.11-257716636655722="` echo /home/eumel/.ansible/tmp/ansible-tmp-1535271215.11-257716636655722 `" ) && sleep 0'
<127.0.0.1> PUT /home/eumel/.ansible/tmp/ansible-local-18078MlJSR4/tmpAI5nOo TO /home/eumel/.ansible/tmp/ansible-tmp-1535271215.11-257716636655722/command.py
<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/eumel/.ansible/tmp/ansible-tmp-1535271215.11-257716636655722/ /home/eumel/.ansible/tmp/ansible-tmp-1535271215.11-257716636655722/command.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c '/usr/bin/python /home/eumel/.ansible/tmp/ansible-tmp-1535271215.11-257716636655722/command.py && sleep 0'
<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/eumel/.ansible/tmp/ansible-tmp-1535271215.11-257716636655722/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true, 
    "cmd": [
        "curl", 
        "-X", 
        "PUT", 
        "-H", 
        "Authorization: AWS EMPAVRWLVMQKNSWVKRDS:TlKcJ7XBkGthjzEHHNQ882iqWeA=", 
        "-H", 
        "x-amz-date: Sun, 26 Aug 2018 08:13:34 +0000", 
        "https://obs.otc.t-systems.com/ansibletest03"
    ], 
    "delta": "0:00:00.548077", 
    "end": "2018-08-26 10:13:35.760166", 
    "invocation": {
        "module_args": {
            "_raw_params": "curl -X PUT -H \"Authorization: AWS EMPAVRWLVMQKNSWVKRDS:TlKcJ7XBkGthjzEHHNQ882iqWeA=\" -H \"x-amz-date: Sun, 26 Aug 2018 08:13:34 +0000\" https://obs.otc.t-systems.com/ansibletest03", 
            "_uses_shell": false, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "warn": true
        }
    }, 
    "rc": 0, 
    "start": "2018-08-26 10:13:35.212089", 
    "stderr": "  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0", 
    "stderr_lines": [
        "  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current", 
        "                                 Dload  Upload   Total   Spent    Left  Speed", 
        "", 
        "  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0", 
        "  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0"
    ], 
    "stdout": "", 
    "stdout_lines": []
}

TASK [otc_obs : debug] **************************************************************************************************************************
task path: /home/eumel/git/eumel8/otc_obs/tests/roles/otc_obs/tasks/create.yml:24
ok: [localhost] => {
    "msg": []
}
META: ran handlers
META: ran handlers

PLAY RECAP **************************************************************************************************************************************
localhost                  : ok=6    changed=3    unreachable=0    failed=0   

